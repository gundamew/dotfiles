function git_local_branch() {
  git branch --no-color 2> /dev/null | sed -e '/^[^*]/d' -e 's/* //'
}

function git_modified_file_amount() {
  git status . --porcelain 2> /dev/null | grep -P '^(\s[MADRC]|\?\?)\s' | wc -l
}

function git_local_stat() {
  local_branch=$(git_local_branch)
  modified_file_amount=$(git_modified_file_amount)
  if [ $modified_file_amount != 0 ]; then
    echo "@$local_branch(*$modified_file_amount)"
  else
    echo "@$local_branch"
  fi
}
